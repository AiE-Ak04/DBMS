<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Program Viewer</title>
<style>
  .container {
    width: 200px;
    height: 50px;
    margin: 10px;
    background-color: #05efe3;
    color: white;
    display: inline-block;
    text-align: center;
    line-height: 50px;
    cursor: pointer;
    border-radius: 5px;
  }

  .expanded {
    width: 90%;
    margin: 20px auto;
    background-color: #333;
    color: #fff;
    padding: 15px;
    border-radius: 5px;
    position: relative;
    display: none;
  }

  .code {
    white-space: pre-wrap;
    background: #222;
    padding: 10px;
    border-radius: 5px;
    font-family: monospace;
    max-height: 400px;
    overflow-y: auto;
  }

  .copy-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #ff5722;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 3px;
  }
</style>
</head>
<body>

<div id="program1" class="container">Program 1</div>
<div id="program2" class="container">Program 2</div>
<div id="program3" class="container">Program 3</div>
<div id="program4" class="container">Program 4</div>
<div id="program5" class="container">Program 5</div>
<div id="program6" class="container">Program 6</div>

<div id="program-box" class="expanded">
  <button id="copy-btn" class="copy-btn">Copy</button>
  <pre id="code" class="code"></pre>
</div>

<script>
  const programs = {
    program1: `-- 1 start
CREATE DATABASE IF NOT EXISTS temp1;
use temp1;
-- 1 end

-- 2 start
CREATE TABLE Employee (
    EMPNO int,
    ENAME VARCHAR(50),
    JOB VARCHAR(50),
    MANAGER_NO int,
    SAL int,
    COMMISSION int
);
-- 2 end


-- 3 start
INSERT INTO Employee (EMPNO, ENAME, JOB, MANAGER_NO, SAL, COMMISSION)
VALUES (1, 'John Doe', 'Manager', NULL, 5000, 1000);

INSERT INTO Employee (EMPNO, ENAME, JOB, MANAGER_NO, SAL, COMMISSION)
VALUES (2, 'Jane Smith', 'Developer', 1, 4000, NULL);

INSERT INTO Employee (EMPNO, ENAME, JOB, MANAGER_NO, SAL, COMMISSION)
VALUES (3, 'Michael Brown', 'Analyst', 1, 4500, 500);
-- 3 end

-- 4 start
START transaction;
-- 4 end


-- 5 start
INSERT INTO Employee (EMPNO, ENAME, JOB, MANAGER_NO, SAL, COMMISSION)
VALUES (10, 'John Doe', 'Manager', NULL, 5000, 1000);

INSERT INTO Employee (EMPNO, ENAME, JOB, MANAGER_NO, SAL, COMMISSION)
VALUES (20, 'Jane Smith', 'Developer', 1, 4000, NULL);

INSERT INTO Employee (EMPNO, ENAME, JOB, MANAGER_NO, SAL, COMMISSION)
VALUES (30, 'Michael Brown', 'Analyst', 1, 4500, 500);
-- 5 end

-- 6 start
rollback;
-- 6 end

-- 7 start // output part
SELECT * FROM Employee;
-- 7 end

-- 8 start
ALTER TABLE Employee
ADD CONSTRAINT pk_employee PRIMARY KEY (EMPNO);
-- 8 end

-- 9 start
ALTER TABLE Employee
MODIFY ENAME VARCHAR(50) NOT NULL,
MODIFY JOB VARCHAR(50) NOT NULL,
MODIFY SAL INT NOT NULL;
-- 9 end

-- 10 start // don't worry this insertion will fail n will give err! ... go for 11 
INSERT INTO Employee (EMPNO, ENAME, JOB, MANAGER_NO, SAL, COMMISSION)
VALUES (4, NULL, 'Tester', 2, 3000, 200);
-- 10 end

-- 11 start
SELECT * FROM Employee;
-- 11 end
`,
    program2: `-- 1 start
CREATE DATABASE IF NOT EXISTS temp2;
USE temp2;
-- 1 end

-- 2 start
CREATE TABLE Employee (
    EMPNO INT PRIMARY KEY,
    ENAME VARCHAR(50),
    JOB VARCHAR(50),
    MGR INT,
    SAL DECIMAL(10, 2)
);
-- 2 end

-- 3 start
ALTER TABLE Employee
ADD COMMISSION DECIMAL(10, 2);
-- 3 end

-- 4 start
DESC Employee;
-- 4 end

-- 5 start
INSERT INTO Employee VALUES (101, 'Braham Kumar', 'Manager', NULL, 80000.00, 5000.00);
INSERT INTO Employee VALUES (102, 'Shubham Kumar', 'Analyst', 101, 60000.00, 3000.00);
INSERT INTO Employee VALUES (103, 'Aman Kumar', 'Clerk', 102, 40000.00, 1000.00);
INSERT INTO Employee VALUES (104, 'Rajan Gupta', 'Salesman', 101, 70000.00, 4000.00);
INSERT INTO Employee VALUES (105, 'Shiv Yadav', 'Clerk', 102, 38000.00, 800.00);
-- 5 end

-- 6 start
SELECT * FROM Employee;
-- 6 end

-- 7 start
UPDATE Employee
SET JOB = 'Senior Manager'
WHERE EMPNO = 101;

UPDATE Employee
SET JOB = 'Senior Analyst'
WHERE EMPNO = 102;

UPDATE Employee
SET JOB = 'Office Clerk'
WHERE EMPNO = 103 OR EMPNO = 105;

UPDATE Employee
SET JOB = 'Sales Executive'
WHERE EMPNO = 104;
-- 7 end

-- 8 start
SELECT * FROM Employee;
-- 8 end

-- 9 start
ALTER TABLE Employee
RENAME COLUMN ENAME TO EMP_NAME;
-- 9 end

-- 10 start
DESC Employee;
-- 10 end


-- 11 start
DELETE FROM Employee
WHERE EMPNO = 105;
-- 11 end

-- 12 start
SELECT * FROM Employee;
-- 12 end`,
    program3: `-- 1 start
CREATE DATABASE IF NOT EXISTS temp3;
USE temp3;
-- 1 end

-- 2 start
CREATE TABLE _Employee_ (
    E_id INT PRIMARY KEY,
    E_name VARCHAR(100),
    Age INT,
    Salary DECIMAL(10, 2)
);
-- 2 end

-- 3 start
INSERT INTO Employee VALUES (1, 'Braham Kumar', 30, 50000);
INSERT INTO Employee VALUES (2, 'Shubham Kumar', 25, 60000);
INSERT INTO Employee VALUES (3, 'Anjali Kumari', 35, 55000);
INSERT INTO Employee VALUES (4, 'Aman Kumar', 28, 62000);
INSERT INTO Employee VALUES (5, 'Shoaib Akhtar', 40, 70000);
-- 3 end


-- 4 start
SELECT COUNT(E_NAME) AS "NUMBER OF EMPLOYEES" 
	FROM EMPLOYEE;
-- 4 end

-- 5 start
SELECT MAX(AGE) AS "MAXIMUM AGE" 
FROM EMPLOYEE;
-- 5 end

-- 6 start
SELECT MIN(AGE) AS "MINIMUM AGE"
FROM EMPLOYEE;
-- 6 end

-- 7 start
SELECT E_NAME, SALARY 
FROM EMPLOYEE 
ORDER BY SALARY ASC;
-- 7 end

-- 8 start
SELECT Age, SUM(SALARY) AS "TOTAL SALARY"
FROM EMPLOYEE
GROUP BY AGE;
-- 8 end
`,
    program4: `-- 1 start
CREATE DATABASE IF NOT EXISTS temp4;
USE temp4;
-- 1 

-- 2 start
CREATE TABLE CUSTOMERS (
    ID INT PRIMARY KEY,
    NAME VARCHAR(100),
    AGE INT,
    ADDRESS VARCHAR(200),
    SALARY DECIMAL(10, 2)
);
-- 2 end

-- 3 start
CREATE TABLE CUSTOMERS_LOG (
    LOG_ID INT AUTO_INCREMENT PRIMARY KEY,
    ACTION_TYPE VARCHAR(10),
    CUSTOMER_ID INT,
    NAME VARCHAR(100),
    AGE INT,
    ADDRESS VARCHAR(200),
    SALARY DECIMAL(10, 2),
    ACTION_TIMESTAMP DATETIME DEFAULT CURRENT_TIMESTAMP
);
-- 3 end

-- 4 start
DELIMITER //

CREATE TRIGGER trg_customers_insert
AFTER INSERT ON CUSTOMERS
FOR EACH ROW
BEGIN
    INSERT INTO CUSTOMERS_LOG (ACTION_TYPE, CUSTOMER_ID, NAME, AGE, ADDRESS, SALARY)
    VALUES ('INSERT', NEW.ID, NEW.NAME, NEW.AGE, NEW.ADDRESS, NEW.SALARY);
END;
//

DELIMITER ;
-- 4 end

-- 5 start
DELIMITER //

CREATE TRIGGER trg_customers_update
AFTER UPDATE ON CUSTOMERS
FOR EACH ROW
BEGIN
    INSERT INTO CUSTOMERS_LOG (ACTION_TYPE, CUSTOMER_ID, NAME, AGE, ADDRESS, SALARY)
    VALUES ('UPDATE', NEW.ID, NEW.NAME, NEW.AGE, NEW.ADDRESS, NEW.SALARY);
END;
//

DELIMITER ;
-- 5 end

-- 6 start
DELIMITER //

CREATE TRIGGER trg_customers_delete
AFTER DELETE ON CUSTOMERS
FOR EACH ROW
BEGIN
    INSERT INTO CUSTOMERS_LOG (ACTION_TYPE, CUSTOMER_ID, NAME, AGE, ADDRESS, SALARY)
    VALUES ('DELETE', OLD.ID, OLD.NAME, OLD.AGE, OLD.ADDRESS, OLD.SALARY);
END;
//

DELIMITER ;
-- 6 end

-- 7 start
INSERT INTO CUSTOMERS 
VALUES (10, 'Braham Kumar', 30, 'Bangalore', 8000);
-- 7 end

-- 8 start
SELECT * FROM CUSTOMERS_LOG;
-- 8 end

-- 9 start 
UPDATE CUSTOMERS
	SET SALARY = 6000
		WHERE ID = 10;
-- 9 end

-- 10 start
SELECT * FROM CUSTOMERS_LOG;
-- 10 end

-- 11 start
DELETE FROM CUSTOMERS
WHERE ID = 10;
-- 11 end

-- 12 start
SELECT * FROM CUSTOMERS_LOG;
-- 12 end
`,
    program5: `-- 1 start
CREATE DATABASE IF NOT EXISTS temp5;
USE temp5;
-- 1 end

-- 2 start
CREATE TABLE Employee (
    E_id int PRIMARY KEY,
    E_name VARCHAR(100), 
    Age int,
    Salary int
);
-- 2 end

-- 3 start
INSERT INTO EMPLOYEE VALUES (1, 'Braham Kumar', 30, 50000);
INSERT INTO EMPLOYEE VALUES (2, 'Shubham', 32, 55000);
INSERT INTO EMPLOYEE VALUES (3, 'Bikash', 28, 48000);
-- 3 end


-- 4 start
DELIMITER //


CREATE PROCEDURE ReadEmployees()
BEGIN
    DECLARE v_E_id INT;
    DECLARE v_E_name VARCHAR(100);
    DECLARE v_Age INT;
    DECLARE v_Salary INT;
    
    DECLARE done INT DEFAULT 0;
    
    DECLARE emp_cursor CURSOR FOR
        SELECT E_id, E_name, Age, Salary FROM Employee;

    
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
    
    OPEN emp_cursor;

    
    read_loop: LOOP
        FETCH emp_cursor INTO v_E_id, v_E_name, v_Age, v_Salary;
        IF done THEN
            LEAVE read_loop;
        END IF;

        
        SELECT 
            v_E_id AS E_id, 
            v_E_name AS E_name, 
            v_Age AS Age, 
            v_Salary AS Salary;
    END LOOP;

    
    CLOSE emp_cursor;
END;
//


DELIMITER ;
-- 4 end

-- 5 start
CALL ReadEmployees();
-- 5 end`,
    program6: `-- 1 start
CREATE DATABASE IF NOT EXISTS temp6;
USE temp6;
-- 1 end

-- 2 start
CREATE TABLE N_RollCall (
    id INT,
    name VARCHAR(100),
    roll_date DATE
);
-- 2 end

-- 3 start
INSERT INTO N_RollCall VALUES 
(1, 'Braham Kumar', '2015-01-22'),
(2, 'Shubham Kumar', '2016-04-22'),
(3, 'Bikash Singh', '2017-05-22');
-- 3 end

-- 4 start
CREATE TABLE O_RollCall (
    id INT,
    name VARCHAR(100),
    roll_date DATE
);
-- 4 end


-- 5 start
INSERT INTO O_RollCall VALUES 
(4, 'Amit Singh', '2015-01-22'),
(5, 'Mukesh Kumar', '2016-04-22'),
(6, 'Abhay Singh', '2017-05-22');
-- 5 end

-- 6 start
DELIMITER $$

CREATE PROCEDURE Merge_RollCall_Data()
BEGIN
    INSERT INTO O_RollCall (id, name, roll_date)
    SELECT n.id, n.name, n.roll_date
    FROM N_RollCall n
    WHERE NOT EXISTS (
        SELECT 1
        FROM O_RollCall o
        WHERE o.id = n.id
          AND o.name = n.name
          AND o.roll_date = n.roll_date
    );
    
    SELECT 'Data merged successfully from N_RollCall to O_RollCall.' AS message;
END$$

DELIMITER ;
-- 6 end

-- 7 start
CALL Merge_RollCall_Data();
-- 7 end

-- 8 start
SELECT * FROM N_Rollcall;
-- 8 end

-- 9 start
SELECT * FROM O_Rollcall;
-- 9 end`
  };

  const box = document.getElementById('program-box');
  const codeElement = document.getElementById('code');
  const copyBtn = document.getElementById('copy-btn');

  document.querySelectorAll('.container').forEach(container => {
    container.addEventListener('click', () => {
      const code = programs[container.id];
      codeElement.textContent = code;
      box.style.display = 'block';
      box.scrollIntoView({ behavior: 'smooth' });
    });
  });

  copyBtn.addEventListener('click', () => {
    navigator.clipboard.writeText(codeElement.textContent)
      .then(() => alert("Code copied to clipboard!"))
      .catch(err => console.error('Error copying: ', err));
  });
</script>

</body>
</html>
